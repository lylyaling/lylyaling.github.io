<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>刘雅玲</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="开开心心写代码，快快速速找bug">
<meta property="og:type" content="website">
<meta property="og:title" content="刘雅玲">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="刘雅玲">
<meta property="og:description" content="开开心心写代码，快快速速找bug">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="刘雅玲">
<meta name="twitter:description" content="开开心心写代码，快快速速找bug">
  
    <link rel="alternate" href="/atom.xml" title="刘雅玲" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">刘雅玲</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">记录我的编程之路</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-canvas绘制基本图形" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/26/canvas绘制基本图形/" class="article-date">
  <time datetime="2017-12-26T14:18:20.000Z" itemprop="datePublished">2017-12-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/26/canvas绘制基本图形/">canvas绘制基本图形</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>样例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">	&lt;head&gt;</span><br><span class="line">		&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">		&lt;title&gt;&lt;/title&gt;</span><br><span class="line">		&lt;style&gt;</span><br><span class="line">			canvas&#123;</span><br><span class="line">				border:1px solid red;</span><br><span class="line">			&#125;</span><br><span class="line">		&lt;/style&gt;</span><br><span class="line">	&lt;/head&gt;</span><br><span class="line">	&lt;body&gt;</span><br><span class="line">		&lt;canvas width=&quot;500px&quot; height=&quot;500px&quot; id=&quot;mycanvas&quot;&gt;</span><br><span class="line">			对不起，您的浏览器版本过低，点击&lt;a href=&quot;#&quot;&gt;下载&lt;/a&gt;</span><br><span class="line">		&lt;/canvas&gt;</span><br><span class="line">	&lt;/body&gt;</span><br><span class="line">    &lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">        //获取canvas节点</span><br><span class="line">		var canvas = document.getElementById(&quot;mycanvas&quot;);</span><br><span class="line">		//获取canvas画布的上下文</span><br><span class="line">		var context = canvas.getContext(&quot;2d&quot;);</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h3 id="绘制清单"><a href="#绘制清单" class="headerlink" title="绘制清单"></a>绘制清单</h3><p><img src="http://upload-images.jianshu.io/upload_images/7426676-9725cf2c68c8a39d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片.png"></p>
<h1 id="一、画线"><a href="#一、画线" class="headerlink" title="一、画线"></a>一、画线</h1><p><img src="http://upload-images.jianshu.io/upload_images/7426676-590c71a1b4a29573.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片.png"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/7426676-38148811db598977.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片.png"></p>
<p>通过学习了绘制直线，我们可以来实现一个简单的画板了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">	&lt;head&gt;</span><br><span class="line">		&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">		&lt;title&gt;&lt;/title&gt;</span><br><span class="line">		&lt;style&gt;</span><br><span class="line">			canvas&#123;</span><br><span class="line">				border:1px solid red;</span><br><span class="line">			&#125;</span><br><span class="line">		&lt;/style&gt;</span><br><span class="line">	&lt;/head&gt;</span><br><span class="line">	&lt;body&gt;</span><br><span class="line">		&lt;canvas id=&quot;mycanvas&quot; width=&quot;400&quot; height=&quot;400&quot;&gt;你的浏览器不支持canvas&lt;/canvas&gt;</span><br><span class="line">	&lt;/body&gt;</span><br><span class="line">	&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">		var canvas = document.getElementById(&quot;mycanvas&quot;);</span><br><span class="line">		var context  =canvas.getContext(&quot;2d&quot;);</span><br><span class="line">		//鼠标按下并且鼠标移动才能画线</span><br><span class="line">		canvas.onmousedown = function(e)&#123;</span><br><span class="line">			var ev = e || window.event;</span><br><span class="line">            //获取鼠标按下时坐标</span><br><span class="line">			var x = ev.clientX-canvas.offsetLeft;</span><br><span class="line">			var y = ev.clientY-canvas.offsetTop;</span><br><span class="line">			context.beginPath();</span><br><span class="line">			context.moveTo(x,y);</span><br><span class="line">			canvas.onmousemove = function(e)&#123;</span><br><span class="line">				var ev = e || window.event;</span><br><span class="line">                //获取鼠标移动时的坐标</span><br><span class="line">				var xx = ev.clientX-canvas.offsetLeft;</span><br><span class="line">				var yy = ev.clientY-canvas.offsetTop;</span><br><span class="line">				context.lineTo(xx,yy);</span><br><span class="line">				context.stroke();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		document.onmouseup = function()&#123;</span><br><span class="line">			canvas.onmousemove = &quot;&quot;;</span><br><span class="line">		&#125;</span><br><span class="line">	&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/7426676-24b41ab06299cfd0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片.png"></p>
<h1 id="二、绘制矩形"><a href="#二、绘制矩形" class="headerlink" title="二、绘制矩形"></a>二、绘制矩形</h1><p>方法一：绘制一个填充的矩形</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">		var colorArr = [&quot;red&quot;,&quot;blue&quot;,&quot;yellow&quot;,&quot;whitesmoke&quot;];</span><br><span class="line">		var canvas = document.getElementById(&quot;mycanvas&quot;);</span><br><span class="line">		var context  =canvas.getContext(&quot;2d&quot;);</span><br><span class="line">        context.beginPath();</span><br><span class="line">		context.fillStyle = &quot;palevioletred&quot;;</span><br><span class="line">        context.fillRect(100,100,200,100);   </span><br><span class="line">        context.fill();</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/7426676-3ec56bb2f49882d3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片.png"></p>
<p>方法二：绘制一个矩形的边框,不能填充颜色</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">context.beginPath();</span><br><span class="line">        context.strokeRect(100,100,200,100);   </span><br><span class="line">        context.stroke();</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/7426676-6b36f86aef565f26.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片.png"></p>
<p>方法三：绘制一个矩形边框，可以填充颜色</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">context.beginPath();</span><br><span class="line">		context.fillStyle = &quot;palevioletred&quot;;</span><br><span class="line">		context.rect(100,100,200,100);</span><br><span class="line">		context.fill();</span><br><span class="line">		context.stroke();</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/7426676-ffa15ff9d415c199.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片.png"></p>
<p>通过学习了矩形，我们可以来实现一个国际象棋的棋盘了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">	&lt;head&gt;</span><br><span class="line">		&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">		&lt;title&gt;&lt;/title&gt;</span><br><span class="line">		&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">			canvas&#123;</span><br><span class="line">				border:1px solid red;</span><br><span class="line">			&#125;</span><br><span class="line">		&lt;/style&gt;</span><br><span class="line">	&lt;/head&gt;</span><br><span class="line">	&lt;body&gt;</span><br><span class="line">		&lt;canvas id=&quot;mycanvas&quot; width=&quot;800&quot; height=&quot;800&quot;&gt;&lt;/canvas&gt;</span><br><span class="line">	&lt;/body&gt;</span><br><span class="line">	&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">		var canvas = document.getElementById(&quot;mycanvas&quot;);</span><br><span class="line">		var context = canvas.getContext(&quot;2d&quot;);</span><br><span class="line">        //方法一</span><br><span class="line">//		var colors = [&quot;white&quot;,&quot;black&quot;];</span><br><span class="line">//		for(var i=0;i&lt;8;i++)&#123;</span><br><span class="line">//			for(var j=0;j&lt;8;j++)&#123;</span><br><span class="line">//				context.beginPath();</span><br><span class="line">//				if( i % 2 == 0 &amp;&amp; j % 2 != 0 || i % 2 != 0 &amp;&amp; j % 2 == 0 )&#123;</span><br><span class="line">//					context.fillStyle = colors[0];</span><br><span class="line">//				&#125;else&#123;</span><br><span class="line">//					context.fillStyle = colors[1];</span><br><span class="line">//				&#125;</span><br><span class="line">//				context.fillRect(i*100,j*100,100,100);</span><br><span class="line">//			&#125;</span><br><span class="line">//		&#125;</span><br><span class="line">		//方法二</span><br><span class="line">		for(var i=0;i&lt;800;i+=200)&#123;</span><br><span class="line">			for(var j=0;j&lt;800;j+=200)&#123;</span><br><span class="line">				context.beginPath();</span><br><span class="line">				context.fillRect(i,j,100,100);</span><br><span class="line">				context.fillRect(i+100,j+100,100,100);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>这里有两个方法，第一种是分别设置白色和黑色的矩形<br>第二种是只设置黑色的矩形<br><img src="http://upload-images.jianshu.io/upload_images/7426676-bc95645faef78a29.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片.png"></p>
<h1 id="三、绘制圆形"><a href="#三、绘制圆形" class="headerlink" title="三、绘制圆形"></a>三、绘制圆形</h1><p>前两个参数是圆心的坐标，第三个参数是半径，第四五个参数是圆开始画的角度和结束的角度（PI表示）最后一个参数是布尔：true：逆时针，false:(默认)顺时针<br><img src="http://upload-images.jianshu.io/upload_images/7426676-ef5e9ad1ed320fe4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片.png"><br><img src="http://upload-images.jianshu.io/upload_images/7426676-e262bfc7759f6557.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片.png"></p>
<p>学习了圆的绘制，我们可以绘制一个太极八卦图了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">	&lt;head&gt;</span><br><span class="line">		&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">		&lt;title&gt;太极八卦图&lt;/title&gt;</span><br><span class="line">		&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">			canvas&#123;</span><br><span class="line">				border:1px solid cornflowerblue;</span><br><span class="line">				background-color: #ADD8E6;</span><br><span class="line">			&#125;</span><br><span class="line">		&lt;/style&gt;</span><br><span class="line">	&lt;/head&gt;</span><br><span class="line">	&lt;body&gt;</span><br><span class="line">		&lt;canvas id=&quot;mycanvas&quot; width=&quot;500&quot; height=&quot;500&quot;&gt;您的浏览器不支持canvas&lt;/canvas&gt;</span><br><span class="line">	&lt;/body&gt;</span><br><span class="line">	&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">		var canvas = document.getElementById(&quot;mycanvas&quot;);</span><br><span class="line">		var context  =canvas.getContext(&quot;2d&quot;);</span><br><span class="line">		</span><br><span class="line">		context.beginPath();</span><br><span class="line">		context.arc(250,250,100,0,Math.PI);</span><br><span class="line">		context.fillStyle = &quot;#000000&quot;;</span><br><span class="line">		context.fill();</span><br><span class="line">		</span><br><span class="line">		context.beginPath();</span><br><span class="line">		context.arc(250,250,100,0,Math.PI,true);</span><br><span class="line">		context.fillStyle = &quot;white&quot;;</span><br><span class="line">		context.fill();</span><br><span class="line">		</span><br><span class="line">		context.beginPath();</span><br><span class="line">		context.arc(300,250,50,0,Math.PI,true);</span><br><span class="line">		context.fillStyle = &quot;#000000&quot;;</span><br><span class="line">		context.fill();</span><br><span class="line">		</span><br><span class="line">		context.beginPath();</span><br><span class="line">		context.arc(200,250,50,0,Math.PI);</span><br><span class="line">		context.fillStyle = &quot;white&quot;;</span><br><span class="line">		context.fill();</span><br><span class="line">		</span><br><span class="line">		context.beginPath();</span><br><span class="line">		context.arc(300,250,10,0,Math.PI*2);</span><br><span class="line">		context.fillStyle = &quot;white&quot;;</span><br><span class="line">		context.fill();</span><br><span class="line">		</span><br><span class="line">		context.beginPath();</span><br><span class="line">		context.arc(200,250,10,0,Math.PI*2);</span><br><span class="line">		context.fillStyle = &quot;#000000&quot;;</span><br><span class="line">		context.fill();</span><br><span class="line">	&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/7426676-bb0e0cdc8830bb28.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片.png"></p>
<h1 id="四、绘制文字"><a href="#四、绘制文字" class="headerlink" title="四、绘制文字"></a>四、绘制文字</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">         context.beginPath();</span><br><span class="line">context.textBaseline = &quot;middle&quot;; //文字垂直对齐方法</span><br><span class="line">context.textAlign = &quot;center&quot;; //文字水平对齐方法</span><br><span class="line">context.font = &quot;bold 20px Arial&quot;;  //(加粗 大小）字体样式</span><br><span class="line">context.fillStyle = &quot;red&quot;;</span><br><span class="line">context.fillText(&quot;你好&quot;,100,100); //文字内容，每个横坐标定长，纵坐标随机</span><br></pre></td></tr></table></figure>
<p>我们可以利用这种设置文字的样式，绘制一个验证码的图片</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">	&lt;head&gt;</span><br><span class="line">		&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">		&lt;title&gt;&lt;/title&gt;</span><br><span class="line">		&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">			canvas&#123;</span><br><span class="line">				border:1px solid red;</span><br><span class="line">			&#125;</span><br><span class="line">		&lt;/style&gt;</span><br><span class="line">	&lt;/head&gt;</span><br><span class="line">	&lt;body&gt;</span><br><span class="line">		&lt;canvas id=&quot;mycanvas&quot; width=&quot;100&quot; height=&quot;30&quot;&gt;你的浏览器不支持canvas&lt;/canvas&gt;</span><br><span class="line">	&lt;/body&gt;</span><br><span class="line">	&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">		var canvas = document.getElementById(&quot;mycanvas&quot;);</span><br><span class="line">		var context = canvas.getContext(&quot;2d&quot;);</span><br><span class="line">		//随机(大小，位置随机但不重叠)字符（透明度），随机背景颜色（浅色200——250）</span><br><span class="line">		//干扰项：3个左右的随机（半径随机，位置随机:有部分在画布上）干扰圆</span><br><span class="line">				//3个左右的随机（长度随机，位置随机）干扰线</span><br><span class="line">		var strStore = &quot;abcdefghijklmnopqrstuvwxyzABCDEFJHIJKLMNOPQRSTUVQXYZ0123456789&quot;;</span><br><span class="line">		//随机函数</span><br><span class="line">		function randNum(min,max)&#123;</span><br><span class="line">			return parseInt(Math.random()*(max-min))+min;</span><br><span class="line">		&#125;</span><br><span class="line">		//随机颜色</span><br><span class="line">		var colors = `rgb($&#123;randNum(200,255)&#125;,$&#123;randNum(200,255)&#125;,$&#123;randNum(200,255)&#125;)`</span><br><span class="line">		context.beginPath();</span><br><span class="line">		context.fillStyle = colors;</span><br><span class="line">		context.fillRect(0,0,canvas.width,canvas.height);</span><br><span class="line">		context.globalAlpha = 0.7;</span><br><span class="line">		context.fill();</span><br><span class="line">		for(var i=0;i&lt;5;i++)&#123;</span><br><span class="line">			var str = strStore[randNum(0,strStore.length)];</span><br><span class="line">			context.beginPath();</span><br><span class="line">			context.textBaseline = &quot;middle&quot;; //文字垂直对齐方法</span><br><span class="line">			context.textAlign = &quot;center&quot;; //文字水平对齐方法</span><br><span class="line">			context.font = &quot;bold &quot;+randNum(20,30)+&quot;px Arial&quot;;  //(加粗 大小）字体样式</span><br><span class="line">			context.fillStyle = `rgb($&#123;randNum(0,200)&#125;,$&#123;randNum(0,200)&#125;,$&#123;randNum(0,200)&#125;)`;</span><br><span class="line">			context.fillText(str,10+i*20,randNum(10,20)); //文字内容，每个横坐标定长，纵坐标随机</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		//干扰项:</span><br><span class="line">		for(var i=0;i&lt;3;i++)&#123;</span><br><span class="line">			//干扰圆</span><br><span class="line">			context.beginPath();</span><br><span class="line">			context.arc(randNum(0,100),randNum(0,30),randNum(3,20),0,Math.PI*2);</span><br><span class="line">			context.strokeStyle = `rgb($&#123;randNum(0,200)&#125;,$&#123;randNum(0,200)&#125;,$&#123;randNum(0,200)&#125;)`;</span><br><span class="line">			context.stroke();</span><br><span class="line">			//干扰线</span><br><span class="line">			context.beginPath();</span><br><span class="line">			context.moveTo(randNum(0,100),randNum(0,30));</span><br><span class="line">			context.lineTo(randNum(0,100),randNum(0,30));</span><br><span class="line">			context.strokeStyle = `rgb($&#123;randNum(0,200)&#125;,$&#123;randNum(0,200)&#125;,$&#123;randNum(0,200)&#125;)`;</span><br><span class="line">			context.stroke();</span><br><span class="line">		&#125;</span><br><span class="line">	&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/7426676-74af8ad65daf293e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片.png"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/12/26/canvas绘制基本图形/" data-id="cjbnpwr8d0001rk66414syl2l" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-canvas基本用法" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/25/canvas基本用法/" class="article-date">
  <time datetime="2017-12-25T13:21:16.000Z" itemprop="datePublished">2017-12-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/25/canvas基本用法/">canvas基本用法</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="一、canvas元素"><a href="#一、canvas元素" class="headerlink" title="一、canvas元素"></a>一、canvas元素</h1><h3 id="1、canvas写法："><a href="#1、canvas写法：" class="headerlink" title="1、canvas写法："></a>1、canvas写法：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas id=&quot;mycanvas&quot; width=&quot;500&quot; height=&quot;500&quot;&gt;您的浏览器不支持canvas&lt;/canvas&gt;</span><br></pre></td></tr></table></figure>
<h3 id="2、canvas宽高设置"><a href="#2、canvas宽高设置" class="headerlink" title="2、canvas宽高设置"></a>2、canvas宽高设置</h3><p>在使用canvas元素时必须设置宽度和高度，指定可以绘画的区域大小，但是宽高设置有一个注意的问题</p>
<p>样例代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">	&lt;head&gt;</span><br><span class="line">		&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">		&lt;title&gt;&lt;/title&gt;</span><br><span class="line">		&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">			canvas&#123;</span><br><span class="line">				border:5px solid red;</span><br><span class="line">			&#125;</span><br><span class="line">		&lt;/style&gt;</span><br><span class="line">	&lt;/head&gt;</span><br><span class="line">	&lt;body&gt;</span><br><span class="line">		&lt;canvas id=&quot;mycanvas&quot; width=&quot;500&quot; height=&quot;500&quot;&gt;&lt;/canvas&gt;</span><br><span class="line">	&lt;/body&gt;</span><br><span class="line">	&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">		var canvas = document.getElementById(&quot;mycanvas&quot;);</span><br><span class="line">		var context = canvas.getContext(&quot;2d&quot;);</span><br><span class="line">		context.beginPath();</span><br><span class="line">		context.strokeRect(0, 0, 100, 100);</span><br><span class="line">        context.fillRect(101, 0, 100, 100);</span><br><span class="line">        context.stroke();</span><br><span class="line">		context.fill();</span><br><span class="line">	&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>在这里我们直接在canvas标签内设置了绘画区域的大小，在浏览器中显示的效果是这样的<br><img src="http://upload-images.jianshu.io/upload_images/7426676-90896322ca9d9820.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片.png"></p>
<p>如果我们用常规CSS设置宽高的话</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">	&lt;head&gt;</span><br><span class="line">		&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">		&lt;title&gt;&lt;/title&gt;</span><br><span class="line">		&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">			canvas&#123;</span><br><span class="line">				width:500px;</span><br><span class="line">				height:500px;</span><br><span class="line">				border:5px solid red;</span><br><span class="line">			&#125;</span><br><span class="line">		&lt;/style&gt;</span><br><span class="line">	&lt;/head&gt;</span><br><span class="line">	&lt;body&gt;</span><br><span class="line">		&lt;canvas id=&quot;mycanvas&quot;&gt;&lt;/canvas&gt;</span><br><span class="line">	&lt;/body&gt;</span><br><span class="line">	&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">		var canvas = document.getElementById(&quot;mycanvas&quot;);</span><br><span class="line">		var context = canvas.getContext(&quot;2d&quot;);</span><br><span class="line">		context.beginPath();</span><br><span class="line">		context.strokeRect(0, 0, 100, 100);</span><br><span class="line">        context.fillRect(101, 0, 100, 100);</span><br><span class="line">        context.stroke();</span><br><span class="line">		context.fill();</span><br><span class="line">	&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>这时浏览器中显示的效果就是这样<br><img src="http://upload-images.jianshu.io/upload_images/7426676-4772844341749958.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片.png"></p>
<p>明明是宽高一样的矩形，为什么会出现拉长的效果呢？<br>　　其实canvas有自己默认的宽高300px*150px,而且在canvas行间样式定义width、height跟在style中定义width、height是有所区别的：canvas标签的width和height是canvas在浏览器中被渲染的高度和宽度。如果canvas的width和height没指定或者值不正确，就被设置成默认值{width:300px;height:150px}；<br>　　这就解释了为什么第二种写法导致图形被拉伸，原因是绘画区域的大小没有在canvas行间样式中定义，所以被默认为宽高的默认值，而style中设置为{width:500px;height:500px;}将绘画区域的高度拉伸了。</p>
<h3 id="3、canvas的浏览器支持"><a href="#3、canvas的浏览器支持" class="headerlink" title="3、canvas的浏览器支持"></a>3、canvas的浏览器支持</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas id=&quot;mycanvas&quot; width=&quot;500&quot; height=&quot;500&quot;&gt;您的浏览器不支持canvas&lt;/canvas&gt;</span><br></pre></td></tr></table></figure>
<p>某些较老的浏览器（尤其是IE9之前的IE浏览器）不支持canvas元素，在这些浏览器上，就会显示我们的提示“您的浏览器不支持canvas”，因为我们在canvas标签中提供了替换内容。支持canvas的浏览器将会忽略标签中的提示内容，并且正常的渲染canvas</p>
<h1 id="二、渲染上下文"><a href="#二、渲染上下文" class="headerlink" title="二、渲染上下文"></a>二、渲染上下文</h1><p>canvas元素创造了一个固定大小的画布，它公开了一个或多个喧嚷上下文，其可以用来绘制和处理要展示的内容，这里我们将2d渲染上下文。<br>　　canvas起初是空白的，默认背景色是透明的。我们在绘制之前，首先脚本需要找到渲染上下文，canvas元素有一个叫做getContext()的方法来获得渲染上下文和它的绘画功能，getContext()只有一个参数，上下文的格式，这里对于2d图像而言，可以在script中使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//获取canvas的DOM对象</span><br><span class="line">var canvas  =document.getElementById(&quot;mycanvas&quot;);</span><br><span class="line">//获得渲染上下文</span><br><span class="line">var context = canvas.getContext(&quot;2d&quot;);</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/12/25/canvas基本用法/" data-id="cjbnpwr8l0004rk66bfogj9sy" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-JS常见一些浏览器兼容问题" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/23/JS常见一些浏览器兼容问题/" class="article-date">
  <time datetime="2017-12-23T07:47:15.000Z" itemprop="datePublished">2017-12-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/23/JS常见一些浏览器兼容问题/">JS常见一些浏览器兼容问题</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>在开发的过程中，我们就经常会遇到浏览器的兼容问题，因为我们不知道用户是用什么版本的浏览器，对于不同的浏览器，对一些不同的样式或者事件，不同的浏览器支持度页不一样，那么我们今天来总结一部分常见的浏览器兼容事件吧。</p>
<h1 id="一、事件绑定中的addEventListener-方法"><a href="#一、事件绑定中的addEventListener-方法" class="headerlink" title="一、事件绑定中的addEventListener()方法"></a>一、事件绑定中的addEventListener()方法</h1><h5 id="1、浏览器支持："><a href="#1、浏览器支持：" class="headerlink" title="1、浏览器支持："></a>1、浏览器支持：</h5><p>支持该方法的第一个浏览器的版本号</p>
<p><img src="http://upload-images.jianshu.io/upload_images/7426676-b4d21c88e2984e61.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="支持的浏览器.png"></p>
<p>Internet Explorer 8 及更早IE版本不支持 addEventListener() 方法，，Opera 7.0 及 Opera 更早版本也不支持,但是，对于这些不支持该函数的浏览器，你可以使用 attachEvent() 方法来添加事件</p>
<h5 id="2、语法"><a href="#2、语法" class="headerlink" title="2、语法"></a>2、语法</h5><p><code>element.addEventListener(event, function, useCapture)</code></p>
<p>参数说明：<br>event ：必须，字符串，指定事件名，不要使用“on”前缀<br>function：必须，事件触发时执行的函数<br>useCapture: 可选，布尔值，指定事件是否在捕获或者冒泡阶段执行；true：在捕获阶段执行；false：默认，在冒泡阶段执行</p>
<h5 id="3、兼容性写法"><a href="#3、兼容性写法" class="headerlink" title="3、兼容性写法"></a>3、兼容性写法</h5><p>我们通过判断浏览器是否支持addEventListener函数或者attachEvent函数来执行对应的语句</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//参数说明：</span><br><span class="line">//element：需要操作的对象</span><br><span class="line">//type：需要绑定的事件名</span><br><span class="line">//fn：事件触发时执行的函数</span><br><span class="line">function addEvent(element, type, fn)&#123;</span><br><span class="line">    if(element.addEventListener)&#123;</span><br><span class="line">        element.addEventListener(type,fn,false);</span><br><span class="line">    &#125;else if(element.attachEvent)&#123;</span><br><span class="line">        element.attachEvent(&quot;on&quot;+type,fn);  </span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        element[&quot;on&quot;+type]=fn;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="二、解除事件绑定的removeEventListener-方法"><a href="#二、解除事件绑定的removeEventListener-方法" class="headerlink" title="二、解除事件绑定的removeEventListener()方法"></a>二、解除事件绑定的removeEventListener()方法</h1><h5 id="1、浏览器支持"><a href="#1、浏览器支持" class="headerlink" title="1、浏览器支持"></a>1、浏览器支持</h5><p>支持该方法的第一个浏览器的版本号<br><img src="http://upload-images.jianshu.io/upload_images/7426676-737726f9f6bebe22.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="支持的浏览器.png"></p>
<p> Internet Explorer 8 及更早IE版本不支持 removeEventListener() 方法，Opera 7.0 及 Opera 更早版本也不支持。 但是，对于这些不支持该函数的浏览器，你可以使用 detachEvent() 方法来移除由 attachEvent() 方法添加的事件。</p>
<h5 id="2、语法-1"><a href="#2、语法-1" class="headerlink" title="2、语法"></a>2、语法</h5><p><code>element.removeEventListener(event, function, useCapture)</code></p>
<p>参数说明：<br>event：必须，要移除的事件名称，不要加“on”前缀<br>function：必须，指定要移除的函数<br>useCapture：可选，布尔值。指定移除事件是否在捕获或者冒泡阶段执行；true：在捕获阶段执行；false：默认，在冒泡阶段执行。</p>
<h5 id="3、兼容性写法-1"><a href="#3、兼容性写法-1" class="headerlink" title="3、兼容性写法"></a>3、兼容性写法</h5><p>我们通过判断浏览器是否支持removeEventListener函数或者detachEvent函数来执行对应的语句</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//参数说明：</span><br><span class="line">//element：需要操作的对象</span><br><span class="line">//type：需要解除绑定的事件名</span><br><span class="line">//fn：事件触发时移除的函数</span><br><span class="line">function removeEvent(element,type,fn)&#123;</span><br><span class="line">	if(element.removeEventListener)&#123;</span><br><span class="line">	      console.log(element.removeEventListener, element, type, fn)</span><br><span class="line">	      element.removeEventListener(type,fn,false);</span><br><span class="line">	&#125;else if(element.detachEvent)&#123;</span><br><span class="line">		element.detachEvent(&quot;on&quot;+type,fn);</span><br><span class="line">	&#125;else&#123;</span><br><span class="line">		element[&quot;on&quot;+type]=null;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="三、滚轮事件addMousewhel"><a href="#三、滚轮事件addMousewhel" class="headerlink" title="三、滚轮事件addMousewhel()"></a>三、滚轮事件addMousewhel()</h1><h5 id="1、浏览器支持-1"><a href="#1、浏览器支持-1" class="headerlink" title="1、浏览器支持"></a>1、浏览器支持</h5><p>这里不是区分IE8派和其他派，而是区分Firefox派和其他派，Firefox浏览器一个人使用DOMMouseScroll，其他包括IE6在内的浏览器使用onmousewheel<br>　　那么我们想想想滚动滚轮的时候，还有什么是我们遇到问题呢？<br>（1）、鼠标滚轮是向上滚动还是向下滚动呢？<br>（2）、鼠标滚轮滚动的幅度大小是多少呢？<br>还好，我们可以通过event的某些属性值得到这些信息<br>（1）“mousewheel”事件中的“event.wheelDelta”属性值，如果返回值是正值说明滚轮是向上滚动，如果是负值说明滚轮是向下滚动，返回的值是120的倍数，即幅度大小 = 返回值/120 ;<br>（2）“DOMMouseScroll”事件中“event.datail”属性值：如果返回值是正值说明滚轮是向下滚动，如果是负值说明是向上滚动（与 “event.wheelDelta” 正好相反），幅度大小 = 返回值；</p>
<h5 id="2、兼容性写法"><a href="#2、兼容性写法" class="headerlink" title="2、兼容性写法"></a>2、兼容性写法</h5><p>我们只需要根据navigator.userAgent.indexOf(“Firefox”)判断浏览器类型是否是Firefox，是就用DOMMouseScroll,不是就用mousewheel语句</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//参数说明：</span><br><span class="line">element: 是绑定滚轮事件的元素</span><br><span class="line">fn：是滚轮事件触发执行的函数</span><br><span class="line">function addMousewheel(element,fn)&#123;</span><br><span class="line">    if(navigator.userAgent.indexOf(&quot;Firefox&quot;)!=-1)&#123;</span><br><span class="line">        element.addEventListener(&quot;DOMMouseScroll&quot;,fn,false);</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        element.onmousewheel = fn;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>以上是对滚轮事件的兼容性封装函数，那么我们在调用这个函数的时候，还需要在在参数fn的函数里面来统一滚轮的方向和幅度，即：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">addMousewheel(div,function(ev)&#123;</span><br><span class="line">    var detail = -ev.detail || ev.wheelDelta/120;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>这样统一后，我们不管在哪个浏览器触发滚轮事件，其滚轮方向和滚动幅度都是一致的</p>
<h1 id="四、获取样式兼容函数getComputedStyle"><a href="#四、获取样式兼容函数getComputedStyle" class="headerlink" title="四、获取样式兼容函数getComputedStyle()"></a>四、获取样式兼容函数getComputedStyle()</h1><h5 id="1、浏览器支持-2"><a href="#1、浏览器支持-2" class="headerlink" title="1、浏览器支持"></a>1、浏览器支持</h5><p>除了IE6-8浏览器不支持getComputedStyle()方法，其他主流浏览器都支持这个方法，IE浏览器有自己的一套获取样式的属性currentStyle()。</p>
<h5 id="2、getComputedStyle与style、currentStyle的区别"><a href="#2、getComputedStyle与style、currentStyle的区别" class="headerlink" title="2、getComputedStyle与style、currentStyle的区别"></a>2、getComputedStyle与style、currentStyle的区别</h5><h6 id="（1）首先我们来了解一下element-style属性（可读可写）"><a href="#（1）首先我们来了解一下element-style属性（可读可写）" class="headerlink" title="（1）首先我们来了解一下element.style属性（可读可写）"></a>（1）首先我们来了解一下element.style属性（可读可写）</h6><p>element.style属性返回一个CSSStyleDeclaration对象，表示元素的内联style属性，既然它返回的是一个对象，那我们就不能通过直接给styles属性设置字符串（如：element.style = “color：blue”）来设置style,因为它返回的对象时只读的，但style本身还有属性可以用来设置样式（比如：ele.style.color = “blue”）<br> 　　那我们要了解元素样式的信息，仅仅使用style属性是不够的，这是因为它只包含了在元素内联style属性上声明的CSS属性，而不包括来自其他地方声明的样式，那么这时候我们需要使用window.getComputedStyle()来获取属性</p>
<h6 id="（2）window-getComputedStyle-（仅可读）"><a href="#（2）window-getComputedStyle-（仅可读）" class="headerlink" title="（2）window.getComputedStyle()（仅可读）"></a>（2）window.getComputedStyle()（仅可读）</h6><p>getComputedStyle方法获取的是应用在元素上的所有的CSS属性（包括所有的默认样式），但是这种方法是IE6-8不支持的</p>
<h6 id="（3）currentStyle"><a href="#（3）currentStyle" class="headerlink" title="（3）currentStyle"></a>（3）currentStyle</h6><p>currentStyle是IE浏览器自娱自乐的一个属性，element.currrentStyle返回的是元素当前应用的最终CSS属性值（包括外联CSS文件,页面中嵌入的<style>属性等）。</p>
<p>那我们在不知道用户用什么浏览的情况下，我们该怎么准确无误的获取元素的CSS样式呢？下面我们来封装一个获取样式兼容函数</p>
<h5 id="3、兼容性写法-2"><a href="#3、兼容性写法-2" class="headerlink" title="3、兼容性写法"></a>3、兼容性写法</h5><p>我们只需判断浏览器是否支持getComputedStyle()方法，就能判断用户使用是否是IE6—8浏览器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function getStyle(obj,styleName)&#123;</span><br><span class="line">    if(window.getComputedStyle)&#123;</span><br><span class="line">        var styles = getComputedStyle(obj,null)[styleName];</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        var styles = obj.currentStyle[styleName];</span><br><span class="line">    &#125;</span><br><span class="line">    return styles;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></style></p>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/12/23/JS常见一些浏览器兼容问题/" data-id="cjbnpwr8g0002rk6643f9adhg" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-JS继承问题" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/21/JS继承问题/" class="article-date">
  <time datetime="2017-12-21T12:39:59.000Z" itemprop="datePublished">2017-12-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/21/JS继承问题/">JS继承问题</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>JS作为面向对象的弱类型语言，继承也是其非常强大的特性之一，那么，我们该如何在JS中实现继承呢？</p>
<h1 id="一、公有私有属性"><a href="#一、公有私有属性" class="headerlink" title="一、公有私有属性"></a>一、公有私有属性</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//定义一个类</span><br><span class="line">function Person(name)&#123;</span><br><span class="line">    var name  = name;      //private 私有属性</span><br><span class="line">    this.height = &quot;180cm&quot;;   //public 公有属性</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>首先，在这个类里面，我们设置了两种属性，公有属性才能在外部访问，私有属性访问不到，我们可以来测试一下，实例化一个对象：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var newPerson = new Person(&quot;张三&quot;);</span><br><span class="line">console.log(newPerson.name,newPerson.height);      //undefined  &quot;180cm&quot;</span><br></pre></td></tr></table></figure>
<p>这里我们打印不到newPerson.name，是因为var定义的name是类的私有变量，通过对象名.属性的方式不能被访问，私有属性只能在内部使用，而通过this.height是定义公有属性，可以在外部通过对象.属性名来访问；<br>　　那么要怎样来访问私有属性和设置私有属性呢？</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function Person(name)&#123;</span><br><span class="line">    var name  = name;      //private 私有属性</span><br><span class="line">    this.height = &quot;180cm&quot;;   //public 公有属性</span><br><span class="line">    //通过公有方法访问私有属性</span><br><span class="line">    this.get = function()&#123;</span><br><span class="line">        return name;</span><br><span class="line">    &#125;</span><br><span class="line">    //设置私有属性</span><br><span class="line">    this.set = function(newName)&#123;</span><br><span class="line">        name = newName;  </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这里我们可以设置公有的方法，将私有属性当做返回值，再在外部调用公有方法获得私有属性，设置私有属性也是这个道理，通过外部调用公有方法，在公有方法中设置私有属性，这样就能在外部设置私有属性了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//外部我们这样调用公有方法</span><br><span class="line">console.log(newPerson.get());  //通过公有方法获得私有属性name</span><br><span class="line">newPerson.set(&quot;李四&quot;);   //通过公有方法设置私有属性name</span><br><span class="line">new</span><br></pre></td></tr></table></figure>
<h1 id="二、继承问题"><a href="#二、继承问题" class="headerlink" title="二、继承问题"></a>二、继承问题</h1><p>说道继承，父类和子类都是必不可少的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">//定义一个父类</span><br><span class="line">function Dad(height)&#123;</span><br><span class="line">    this.name = &quot;张三&quot;;</span><br><span class="line">    this.age = &quot;50&quot;;</span><br><span class="line">    this.height = height;</span><br><span class="line">    this.money = &quot;$1000000&quot;;</span><br><span class="line">    this.hobby = function()&#123;</span><br><span class="line">      console.log(&quot;喜欢高尔夫&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">//定义一个子类</span><br><span class="line">function Son(height)&#123;</span><br><span class="line">    //通过调用父类构造方法继承属性</span><br><span class="line">    Dad.call(this,height);</span><br><span class="line">    //Dad.apply(this,[height]);</span><br><span class="line">    //Dad.bind(this)(height);</span><br><span class="line">    this.action = function()&#123;</span><br><span class="line">        console.log(&quot;喜欢玩&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">//实例化对象</span><br><span class="line">var newSon = new Son(&quot;180cm&quot;);</span><br><span class="line">console.log(newSon.height);</span><br><span class="line">newSon.hobby();</span><br><span class="line">newSon.action();</span><br></pre></td></tr></table></figure>
<p>打印结果是如下，证明是可以在子类构造方法中调用父类构造方法来继承父类属性的</p>
<p><img src="http://upload-images.jianshu.io/upload_images/7426676-de305bfe9ec5e604.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="打印结果.png"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/12/21/JS继承问题/" data-id="cjbnpwr870000rk66uel74hy4" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-js面向对象" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/20/js面向对象/" class="article-date">
  <time datetime="2017-12-20T11:24:22.000Z" itemprop="datePublished">2017-12-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/20/js面向对象/">js面向对象</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="一、对象定义的三种方式"><a href="#一、对象定义的三种方式" class="headerlink" title="一、对象定义的三种方式"></a>一、对象定义的三种方式</h1><h3 id="1、直接定义对象"><a href="#1、直接定义对象" class="headerlink" title="1、直接定义对象"></a>1、直接定义对象</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var obj1 = &#123;</span><br><span class="line">  name:&quot;李四&quot;,</span><br><span class="line">  age:18,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2、追加定义对象"><a href="#2、追加定义对象" class="headerlink" title="2、追加定义对象"></a>2、追加定义对象</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var  obj2 = new Object();</span><br><span class="line">obj2.name = &quot;张三&quot;;</span><br><span class="line">obj2.age = 20;</span><br></pre></td></tr></table></figure>
<h3 id="3、"><a href="#3、" class="headerlink" title="3、"></a>3、</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var obj3 = Object.create(&#123;name:&quot;张三&quot;，age:20&#125;);</span><br></pre></td></tr></table></figure>
<p>以上三种都是js对象定义的方法，在上面obj2对象的基础上，我们再写以下一段代码，会覆盖之前obj2对象的所有属性，所以不能这样写</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">obj2 = &#123;</span><br><span class="line">    height:&quot;180cm&quot;,</span><br><span class="line">    &quot;hobby&quot;:function()&#123;</span><br><span class="line">        console.log(&quot;喜欢篮球&quot;)</span><br><span class="line">    &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h1 id="二、对象的调用"><a href="#二、对象的调用" class="headerlink" title="二、对象的调用"></a>二、对象的调用</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj2.name;</span><br></pre></td></tr></table></figure>
<h1 id="三、比较对象的追加写法与json串"><a href="#三、比较对象的追加写法与json串" class="headerlink" title="三、比较对象的追加写法与json串"></a>三、比较对象的追加写法与json串</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//对象追加</span><br><span class="line">var obj = &#123;name:&quot;李四&quot;,&quot;height&quot;:&quot;178cm&quot;,&apos;hobby&apos;:function()&#123; console.log(&quot;喜欢篮球&quot;) &#125;&#125;;</span><br><span class="line">//json串</span><br><span class="line">var jsonStr = &apos;&#123;&quot;name&quot;:&quot;张三&quot;,&quot;age&quot;:&quot;19&quot;&#125;&apos;</span><br></pre></td></tr></table></figure>
<p>总结：对象键值可以加双引号/单引号，也可以不加<br>　　　json串的键值对一定要加双引号</p>
<h1 id="四、对象和json之间的转换"><a href="#四、对象和json之间的转换" class="headerlink" title="四、对象和json之间的转换"></a>四、对象和json之间的转换</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//对象转化为json</span><br><span class="line">var json1 = JSON.stringify(obj);</span><br><span class="line">//json转化为对象</span><br><span class="line">var new  = JSON.parse(jsonStr);</span><br></pre></td></tr></table></figure>
<h1 id="五、传值和传址问题，对象赋值——传址"><a href="#五、传值和传址问题，对象赋值——传址" class="headerlink" title="五、传值和传址问题，对象赋值——传址"></a>五、传值和传址问题，对象赋值——传址</h1><h3 id="1、基本数据类型赋值——传值"><a href="#1、基本数据类型赋值——传值" class="headerlink" title="1、基本数据类型赋值——传值"></a>1、基本数据类型赋值——传值</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var a = 1;</span><br><span class="line">var b = a;</span><br><span class="line">b = 10;   //改变b值得情况下，a值不受影响</span><br></pre></td></tr></table></figure>
<blockquote>
<p>如果从一个变量向另一个变量复制基本类型的值，会在变量变量对象上创建一个新值，然后把该值复制到为新变量分配的位置上 —-《JavaScript高级程序设计》</p>
</blockquote>
<p>也就是说，传值得过程经历了以下几步：<br>1、复制变量的值<br>2、申请一个新的内存地址保存复制的值<br>3、把复制的值的新地址赋给新的变量<br>所以两个变量的值只是在数值上相等，其实在内存中是两个地址，是互相独立的存在<br>因此其中一个发生改变时并不会影响到另外一个</p>
<h3 id="2、复杂数据类型赋值——传址"><a href="#2、复杂数据类型赋值——传址" class="headerlink" title="2、复杂数据类型赋值——传址"></a>2、复杂数据类型赋值——传址</h3><h6 id="对象赋值"><a href="#对象赋值" class="headerlink" title="对象赋值"></a>对象赋值</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var obj3 = obj;</span><br><span class="line">obj2.name = &quot;小红&quot;;</span><br><span class="line">console.log(obj.name);  //&quot;小红&quot;;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>当从一个变量向另一个变量复制引用的值时，同样也会将存储在变量对象中的值复制一份放到为新变量分配的空间中。<br>不同的是，这个值的副本实际上是一个指针，而这个指针指向存储在堆中的一个对象。复制操作结束后，两个变量实际上引用同一个对象。<br>—-《JavaScript高级程序设计》</p>
</blockquote>
<p>也就是说，传址其实就是把一个变量在内存中的地址传给另一个变量<br>改变一个变量，就会影响另外一个变量</p>
<h6 id="数组赋值"><a href="#数组赋值" class="headerlink" title="数组赋值"></a>数组赋值</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var arr = [1,2,3,4,5];</span><br><span class="line">var arr2 = arr;</span><br><span class="line">arr2[1] = 6;</span><br><span class="line">console.log(arr);    //  [1,6,3,4,5]</span><br></pre></td></tr></table></figure>
<p>为了避免这种传址问题带来的不便，我们采用深拷贝来解决这类问题</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var arr = [1,2,3,4,5];</span><br><span class="line">var arr2 = JSON.parse(JSON.stringify(arr));  //这种写法是arr与arr2地址之间不互相影响，arr2是新开辟的一块地址</span><br><span class="line">arr2[1] = 6;</span><br><span class="line">console.log(arr) ;    // [1,2,3,4,5]</span><br></pre></td></tr></table></figure>
<h1 id="六、js中let、var、const-的区别"><a href="#六、js中let、var、const-的区别" class="headerlink" title="六、js中let、var、const 的区别"></a>六、js中let、var、const 的区别</h1><h3 id="1、const-定义常量，不可以再次修改，而且必须初始化-必须给值"><a href="#1、const-定义常量，不可以再次修改，而且必须初始化-必须给值" class="headerlink" title="1、const 定义常量，不可以再次修改，而且必须初始化(必须给值)"></a>1、const 定义常量，不可以再次修改，而且必须初始化(必须给值)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// const b;   报错，必须初始化</span><br><span class="line">const PI = &quot;3.1415926&quot;;</span><br><span class="line">// const PI = &quot;3.14&quot;; 错误，不能重复定义</span><br></pre></td></tr></table></figure>
<h3 id="2、var-定义的变量可以修改，如果不初始化会输出undefined，不会报错-var-定义全局变量，各处都能使用"><a href="#2、var-定义的变量可以修改，如果不初始化会输出undefined，不会报错-var-定义全局变量，各处都能使用" class="headerlink" title="2、var 定义的变量可以修改，如果不初始化会输出undefined，不会报错,var 定义全局变量，各处都能使用"></a>2、var 定义的变量可以修改，如果不初始化会输出undefined，不会报错,var 定义全局变量，各处都能使用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var a = 1;</span><br><span class="line">console.log(a);   //可以输出a=1</span><br><span class="line">function change()&#123;</span><br><span class="line">    a = 4;</span><br><span class="line">    console.log(a);  //可以输出a=4</span><br><span class="line">&#125; </span><br><span class="line">change();</span><br><span class="line">console.log(a);  //可以输出a=4</span><br></pre></td></tr></table></figure>
<h3 id="3、-let-是块级作用域，只能在块级内部使用"><a href="#3、-let-是块级作用域，只能在块级内部使用" class="headerlink" title="3、 let 是块级作用域，只能在块级内部使用"></a>3、 let 是块级作用域，只能在块级内部使用</h3><h1 id="七、构造函数-类似于类的概念-函数名首字母大写"><a href="#七、构造函数-类似于类的概念-函数名首字母大写" class="headerlink" title="七、构造函数(类似于类的概念)   函数名首字母大写"></a>七、构造函数(类似于类的概念)   函数名首字母大写</h1><h3 id="1、构造函数的定义"><a href="#1、构造函数的定义" class="headerlink" title="1、构造函数的定义"></a>1、构造函数的定义</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function Dog(name,sex)&#123;</span><br><span class="line">    this.name = name;</span><br><span class="line">    this.sex = sex;</span><br><span class="line">    this.action = function()&#123;</span><br><span class="line">        console.log(&quot;汪汪.....&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2、调用构造函数（实例化）"><a href="#2、调用构造函数（实例化）" class="headerlink" title="2、调用构造函数（实例化）"></a>2、调用构造函数（实例化）</h3><p>关键字：new 把抽象类具体化，把类实例化成对象<br>new 具体做了三件事：<br>            （１）、创建了空对象　 var obj = { };　<br>              （２）、改变this指向<br>                （３）赋值原型  obj.<strong>proto</strong> = Dog.prototype;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var dahuang = new Dog(&quot;大黄&quot;,&quot;母&quot;);</span><br><span class="line">dahuang.action();</span><br></pre></td></tr></table></figure>
<h3 id="3、补充三个可以改变this指向的函数-call-apply-bind"><a href="#3、补充三个可以改变this指向的函数-call-apply-bind" class="headerlink" title="3、补充三个可以改变this指向的函数 call   apply   bind"></a>3、补充三个可以改变this指向的函数 call   apply   bind</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function test(name,age)&#123;</span><br><span class="line">	console.log(name,age);</span><br><span class="line">	console.log(this);</span><br><span class="line">&#125;</span><br><span class="line">var obj = &#123;</span><br><span class="line">	name:&quot;张三&quot;,</span><br><span class="line">	age:19</span><br><span class="line">&#125;</span><br><span class="line">test.call(obj,&quot;lili&quot;,19);  //call()函数使this指obj，否则this指向window</span><br><span class="line">test.apply(obj,[&quot;李四&quot;,10]);</span><br><span class="line">//call()接收字符串传参，apply接收数组传参</span><br><span class="line">test.bind(obj)(&quot;小李&quot;,20);</span><br></pre></td></tr></table></figure>
<h3 id="4、原型"><a href="#4、原型" class="headerlink" title="4、原型"></a>4、原型</h3><h6 id="对象（实例化之后）是由自身和原型共同构成的-对象原型是proto"><a href="#对象（实例化之后）是由自身和原型共同构成的-对象原型是proto" class="headerlink" title="对象（实例化之后）是由自身和原型共同构成的,对象原型是proto"></a>对象（实例化之后）是由自身和原型共同构成的,对象原型是<strong>proto</strong></h6><h6 id="构造函数（实例化之前）是由自身和原型共同构成的，构造函数的原型prototype"><a href="#构造函数（实例化之前）是由自身和原型共同构成的，构造函数的原型prototype" class="headerlink" title="构造函数（实例化之前）是由自身和原型共同构成的，构造函数的原型prototype"></a>构造函数（实例化之前）是由自身和原型共同构成的，构造函数的原型prototype</h6><h3 id="5、proto和prototype对比"><a href="#5、proto和prototype对比" class="headerlink" title="5、proto和prototype对比"></a>5、<strong>proto</strong>和prototype对比</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function Person(name)&#123;</span><br><span class="line">	this.name = name;</span><br><span class="line">&#125;</span><br><span class="line">var newPerson = new Person();</span><br><span class="line">console.log(Person.prototype===newPerson.__proto__);  //true</span><br></pre></td></tr></table></figure>
<h3 id="6、通过原型找到构造函数"><a href="#6、通过原型找到构造函数" class="headerlink" title="6、通过原型找到构造函数"></a>6、通过原型找到构造函数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function Person(name)&#123;</span><br><span class="line">	this.name = name;</span><br><span class="line">&#125;</span><br><span class="line">console.log(Person.prototype.constructor);  //找到构造函数</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/12/20/js面向对象/" data-id="cjbnpwr8o0005rk66n3nbgza2" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-php面向对象" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/25/php面向对象/" class="article-date">
  <time datetime="2017-11-25T02:56:32.000Z" itemprop="datePublished">2017-11-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/25/php面向对象/">php面向对象</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="一、类"><a href="#一、类" class="headerlink" title="一、类"></a>一、类</h1><blockquote>
<p>类是一种具有统一的特征和行为的声明<br>特征：是属性<br>行为：方法或者函数</p>
</blockquote>
<p>  属性有三个标识，1、public:公共的，2、protected:受保护的，3、private：私有的</p>
<p>1、protected和private的属性：不能在外部通过对象的属性直接调用，一般是在类的内部直接使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">//第一步：创建一个people类</span><br><span class="line">class People()&#123;</span><br><span class="line">    public $name = &quot;张三&quot;;</span><br><span class="line">     protected $sex = &quot;男&quot;;</span><br><span class="line">    private $age = &quot;19&quot;;</span><br><span class="line">    //内部才能直接使用对象的protected和private属性</span><br><span class="line">   // $age += 90;  //类内部不能运算，需要在一个函数里面去运算</span><br><span class="line">   // 第三步：函数</span><br><span class="line">    public function setAge($age)&#123;</span><br><span class="line">          //$this指当前对象</span><br><span class="line">          $this-&gt;age+=1;</span><br><span class="line">          echo $this-&gt;age;</span><br><span class="line">    &#125; </span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">//第二步：对象化实例</span><br><span class="line">$p1 = new People();</span><br><span class="line">echo $p1-&gt;name;   //获得对象对应的属性</span><br><span class="line">echo &quot;&lt;br/&gt;&quot;;</span><br><span class="line">//外部直接调用对象的protected和private的属性会报错</span><br><span class="line">//echo $p1-&gt;sex;报错    //sex是protected受保护的</span><br><span class="line">//echo $age-&gt;age;报错    //age是private私有的</span><br><span class="line"></span><br><span class="line">第四步：外部调用public函数</span><br><span class="line">$p1-&gt;setAge(10);</span><br></pre></td></tr></table></figure>
<p>提供protected和private两种是为了保证数据的安全</p>
<h1 id="二、格式化输出属性"><a href="#二、格式化输出属性" class="headerlink" title="二、格式化输出属性"></a>二、格式化输出属性</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">    class  People&#123;</span><br><span class="line">        public $name;</span><br><span class="line">        public $age;</span><br><span class="line">        public $sex;</span><br><span class="line">        //格式化输出属性</span><br><span class="line">        public function desc()&#123;</span><br><span class="line">              return &quot;姓名：&quot;.$this-&gt;name.&quot; 年龄&quot;.$this-&gt;age.&quot; 性别&quot;.$this-&gt;sex.&quot;id:&quot;.$this-&gt;id;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    $p1 = new People();</span><br><span class="line">    $p1 -&gt;name = &quot;李四&quot;;</span><br><span class="line">    $p1 -&gt;age = 19;</span><br><span class="line">    $p1 -&gt;sex = &quot;男&quot;;</span><br><span class="line">    $p1 -&gt;id = 1001; //人为添加的属性也能在类内部打印</span><br><span class="line">    //不能用echo $p1打印对象，echo只能打印字符串</span><br><span class="line">    echo $p1-&gt;$age;  //通过逐一打印对象属性</span><br><span class="line">    //调用public函数打印对象</span><br><span class="line">    echo $p1-&gt;desc();   //姓名：李四 年龄：19 性别：男</span><br><span class="line">    $p2 = new People();</span><br><span class="line">    $p2 -&gt;name = &quot;王五&quot;;</span><br><span class="line">    $p2 -&gt;age = 15;</span><br><span class="line">    $p2-&gt;sex = &quot;不知道&quot;;</span><br><span class="line">     echo $p1-&gt;desc();   //姓名：王五 年龄：15 性别：不知道</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h1 id="三、构造函数"><a href="#三、构造函数" class="headerlink" title="三、构造函数"></a>三、构造函数</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">    class People&#123;</span><br><span class="line">         public $name;</span><br><span class="line">         public $age;</span><br><span class="line">         public $sex;</span><br><span class="line">         public function desc()&#123;</span><br><span class="line">              return &quot;姓名：&quot;.$this-&gt;name.&quot; 年龄&quot;.$this-&gt;age.&quot; 性别&quot;.$this-&gt;sex.&quot;id:&quot;.$this-&gt;id;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        //构造函数:系统提供的函数，在new一个对象的时候会自动调用，形参可以给默认值，如果传入实参，就用实参，不然就用形参的值</span><br><span class="line">        public function __construct($name,$age,$sex=”男“)&#123;</span><br><span class="line">              $this-&gt;name = $name;  //形参$name赋值给属性name</span><br><span class="line">              $this-&gt;age = $age;</span><br><span class="line">              $this -&gt;sex = $sex;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    $p1 = new People(&quot;张三&quot;,19);</span><br><span class="line">  //通过这种方法给对象属性赋值时，需要写一个构造函数，传对应的形参，再讲形参赋给属性</span><br><span class="line">    echo $p1-&gt;desc();</span><br><span class="line">  一旦写了构造函数，在创建对象时一定要传入参数</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h1 id="四、析构函数"><a href="#四、析构函数" class="headerlink" title="四、析构函数"></a>四、析构函数</h1><p>在对象生命周期结束的时候自动调用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">    class People&#123;</span><br><span class="line">         public $name;</span><br><span class="line">         public $age;</span><br><span class="line">         public $sex;</span><br><span class="line">         public function desc()&#123;</span><br><span class="line">              return &quot;姓名：&quot;.$this-&gt;name.&quot; 年龄&quot;.$this-&gt;age.&quot; 性别&quot;.$this-&gt;sex.&quot;id:&quot;.$this-&gt;id;</span><br><span class="line">        &#125;</span><br><span class="line">        public function __construct($name,$age,$sex=”男“)&#123;</span><br><span class="line">              $this-&gt;name = $name;  //形参$name赋值给属性name</span><br><span class="line">              $this-&gt;age = $age;</span><br><span class="line">              $this -&gt;sex = $sex;</span><br><span class="line">        &#125;</span><br><span class="line">        //析构函数   在对象使用完（释放）之后调用</span><br><span class="line">        public function __destruct()&#123;</span><br><span class="line">               echo &quot;析构函数&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    $p1 = new People(&quot;张三&quot;,19);</span><br><span class="line">    echo $p1-&gt;desc();</span><br><span class="line">    //到此，对象已经使用完毕，这里会自动调用析构函数</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h1 id="五、面向对象的继承"><a href="#五、面向对象的继承" class="headerlink" title="五、面向对象的继承"></a>五、面向对象的继承</h1><p>把一些重复的属性和方法封装到一个类里面，称之为继承</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">    class Student&#123;</span><br><span class="line">         public $name;</span><br><span class="line">         public $age;</span><br><span class="line">         public $sex;</span><br><span class="line">         public function move()&#123;</span><br><span class="line">              echo &quot;跑&quot;;</span><br><span class="line">         &#125;</span><br><span class="line">         public function __construct($name,$sex,$age)&#123;</span><br><span class="line">               $this-&gt;name = $name;</span><br><span class="line">                $this-&gt;age = $age;</span><br><span class="line">                $this-&gt;sex = $sex;</span><br><span class="line">          &#125;</span><br><span class="line">     &#125;</span><br><span class="line">//需要让当前的类继承于对应的类</span><br><span class="line">     class BigStudent extends Student&#123;</span><br><span class="line">          public $score;</span><br><span class="line">          public function __construct($name,$sex,$age,$score)&#123;</span><br><span class="line">                parent::__contruct($name,$sex,$age);</span><br><span class="line">                $this-&gt;score=$score;</span><br><span class="line">          &#125;</span><br><span class="line">     &#125;</span><br><span class="line">      $s1 = new BigStudent(&quot;张三&quot;,&quot;男&quot;,19,80);</span><br><span class="line">      $s1-&gt;move();</span><br><span class="line">      echo $s1-&gt;name.$s1-&gt;sex.$s1-&gt;age.$s1-&gt;score;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<p>再举个例子</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php </span><br><span class="line">    class Zombie&#123;</span><br><span class="line">          public $blood;</span><br><span class="line">          public $speed;</span><br><span class="line">          public function move()&#123;</span><br><span class="line">          </span><br><span class="line">          &#125;</span><br><span class="line">          public function diaoxue()&#123;</span><br><span class="line">          </span><br><span class="line">          &#125;</span><br><span class="line">          public function dead()&#123;</span><br><span class="line">          </span><br><span class="line">          &#125; </span><br><span class="line">          public function __construct($blood,$speed)&#123;</span><br><span class="line">                    $this-&gt;blood = $blood;</span><br><span class="line">                    $this-&gt;speed = $speed;</span><br><span class="line">          &#125; </span><br><span class="line">          public function description()&#123;</span><br><span class="line">              return &quot;血量：&quot;$this-&gt;blood.&quot;速度：&quot;.$this-&gt;speed;</span><br><span class="line">          &#125;</span><br><span class="line">     &#125;</span><br><span class="line">      class   TieTongZombie extends Zombie&#123;</span><br><span class="line">          parent::__construct($blood,$speed);</span><br><span class="line">          public color;</span><br><span class="line">          public function description()&#123;</span><br><span class="line">                 //写法一：</span><br><span class="line">                 //return &quot;血量：&quot;$this-&gt;blood.&quot;速度：&quot;.$this-&gt;speed.&quot;颜色&quot;.$this-&gt;color;</span><br><span class="line">                //写法二：调用父类函数，再拼接</span><br><span class="line">                 $value = parent::description();</span><br><span class="line">                  return $value.&quot;颜色：&quot;.$this-&gt;color;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      $z1 = new TieTongZombie(100,10,&quot;yellow&quot;);  //color属性是子类属性，父类没有</span><br><span class="line">      echo  $z1-&gt;description();</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<p>注：若一个子类对象属性，子类没有该属性，就在父类里面去找，如果子类有，就调用子类本身，如果子类和父类都有，就调用当前对象</p>
<h1 id="六、private和protected在继承里面的区别"><a href="#六、private和protected在继承里面的区别" class="headerlink" title="六、private和protected在继承里面的区别"></a>六、private和protected在继承里面的区别</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">     class People&#123;</span><br><span class="line">         protected $name;</span><br><span class="line">         function __contruct($name)&#123;</span><br><span class="line">               $this-&gt;name = $name; </span><br><span class="line">         &#125; </span><br><span class="line">     &#125;</span><br><span class="line">     class   Student extends People&#123;</span><br><span class="line">          function __construct($name)&#123;</span><br><span class="line">              parent::__construct($name);</span><br><span class="line">          &#125;</span><br><span class="line">          public function my()&#123;</span><br><span class="line">              echo $this-&gt;name;  //在子类函数可以调用父类受保护的属性</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      $s1 = new Student(&quot;张三&quot;);</span><br><span class="line">      echo $s1-&gt;name;</span><br><span class="line">      $s1 -&gt; my();</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<p>1、protected ：子类继承父类属性，只能在类内部使用<br>2、private：子类不能从父类中继承private所标注的属性</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/11/25/php面向对象/" data-id="cjbnpwr97000drk66o2n5whnz" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-php数据库语句" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/23/php数据库语句/" class="article-date">
  <time datetime="2017-11-23T13:33:28.000Z" itemprop="datePublished">2017-11-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/23/php数据库语句/">php数据库语句</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/11/23/php数据库语句/" data-id="cjbnpwr900009rk66lsa3fgwd" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-AJAX介绍及创建" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/17/AJAX介绍及创建/" class="article-date">
  <time datetime="2017-11-17T03:14:03.000Z" itemprop="datePublished">2017-11-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/17/AJAX介绍及创建/">AJAX介绍及创建</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>#一、什么是AJAX</p>
<blockquote>
<p>1、AJAX即“Asynchronous Javascript And XML”（异步javaScript和XML），是指一种创建交互网页应用的网页开发技术。</p>
<p>2、AJAX是一种用于创建快速动态网页的技术。通过在后台与服务器进行少量的数据交换，AJAX可以使用网页实现异步更新。这意味着可以在不重新加载整个网页的情况下，对网页的某部分进行更新。传统的网页（不使用AJAX）如果需要更新内容，必须重载整个网页页面。</p>
<p>3、AJAX的核心是JavaScript对象XMLHttpRequest</p>
</blockquote>
<p>交互流程图</p>
<p>/Users/lanou/Library/Containers/com.tencent.qq/Data/Library/Application Support/QQ/Users/2956192818/QQ/Temp.db/789E753A-2514-469E-8F2A-0D4BBF11BC6B.pn</p>
<p>#二、AJAX创建流程</p>
<blockquote>
<p>1、创建XMLHttpRequest对象</p>
<p> var xhr=new XMLHttpResquest();</p>
<p>2、对xhr进行配置</p>
<p> xhr.open(“传输方式GET/POST”,”网址”,”是否异步”)；</p>
<p>3、发送网络请求</p>
<p>xhr.send();</p>
<p>4、监听网络请求状态并接收网络返回的数据</p>
<p>请求过程中，readyState会发生变化，0~1</p>
<p>0是厨师状态，1是创建连接，2是客户端向服务端发送数据，3是服务端可是向客户端返回数据，4是客户端接收数据</p>
<p>xhr.onreadyststechange = function(){</p>
<p>console.log(this.readyState);</p>
<p>}</p>
<p>5、onload事件,在状态4之后才开始执行</p>
<p>xhr.onload=function(){</p>
<p>console.log(this.resposeText);</p>
<p>}</p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/11/17/AJAX介绍及创建/" data-id="cjbnpwr8r0006rk66q2eqot2p" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-php函数文件上传" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/16/php函数文件上传/" class="article-date">
  <time datetime="2017-11-16T13:58:12.000Z" itemprop="datePublished">2017-11-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/16/php函数文件上传/">php函数文件上传</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>##文件上传 $_FILES</p>
<p>###1、限制<br>（1）文件大小（前端设置和后台限制）<br>（2）错误：</p>
<pre><code>0：没有错误
1：文件大小超出php的设置
2：文件大小超出HTML最大设置，MAX_FILES_SIZE
3：    文件只被上传了一部分
4：没有上传任何文件
</code></pre><p>###2、上传图片<br>（1）图片名</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$name=$_FILES[&apos;tupian&apos;][&apos;name&apos;];</span><br></pre></td></tr></table></figure>
<p>（2）图片类型</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$type=$_FILES[&apos;tupian&apos;][&apos;type&apos;];</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/11/16/php函数文件上传/" data-id="cjbnpwr93000brk66c8ogj5sm" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-php函数" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/15/php函数/" class="article-date">
  <time datetime="2017-11-15T12:44:02.000Z" itemprop="datePublished">2017-11-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/15/php函数/">php函数</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>##一、函数的创建和调用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--最简单的--&gt;</span><br><span class="line">function sum()&#123;</span><br><span class="line">	return 100;</span><br><span class="line">&#125;</span><br><span class="line">$a = sum();</span><br><span class="line">echo $a;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--有形参的函数--&gt;</span><br><span class="line">function sum($a,$b)&#123;</span><br><span class="line">	$c = $a+$b;</span><br><span class="line">	return $c;</span><br><span class="line">&#125;</span><br><span class="line">$value = sum(100,100);</span><br><span class="line">echo $value;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--形参有默认值，有默认值的形参要靠后写--&gt;</span><br><span class="line">&lt;!--如果传入参数，就按参数计算，如果没有传入参数，就按照形参默认参数计算--&gt;</span><br><span class="line">function sum($a=10)&#123;</span><br><span class="line">	return $a+100;</span><br><span class="line">&#125;</span><br><span class="line">echo sum();  //输出110</span><br><span class="line">echo sum(100);  //200</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--引用传值:通过修改函数里面的值，将函数外面的值也修改了--&gt;</span><br><span class="line">function value(&amp;$a)&#123;</span><br><span class="line">	$a = 90;</span><br><span class="line">&#125;</span><br><span class="line">$b = 100;</span><br><span class="line">value($b);</span><br><span class="line">echo $b;  //90;</span><br></pre></td></tr></table></figure>
<p>##二、函数变量作用域<br>1、全局变量</p>
<blockquote>
<p>在函数内部使用时，需要加 global $a; 用来声明$a是一个全局变量</p>
</blockquote>
<p>2、局部变量</p>
<blockquote>
<p>函数内部使用的变量</p>
</blockquote>
<p>3、常量:可以在任意位置使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">define(&quot;PI&quot;,3.1415);</span><br><span class="line">echo PI;</span><br><span class="line">function jisuan()&#123;</span><br><span class="line">return PI*10;</span><br><span class="line">&#125;</span><br><span class="line">echo jisuan();</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/11/15/php函数/" data-id="cjbnpwr99000erk669jzbq85f" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">十一月 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/12/26/canvas绘制基本图形/">canvas绘制基本图形</a>
          </li>
        
          <li>
            <a href="/2017/12/25/canvas基本用法/">canvas基本用法</a>
          </li>
        
          <li>
            <a href="/2017/12/23/JS常见一些浏览器兼容问题/">JS常见一些浏览器兼容问题</a>
          </li>
        
          <li>
            <a href="/2017/12/21/JS继承问题/">JS继承问题</a>
          </li>
        
          <li>
            <a href="/2017/12/20/js面向对象/">js面向对象</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 雅玲<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>